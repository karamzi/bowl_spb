(this.webpackJsonpfbspb_calendar=this.webpackJsonpfbspb_calendar||[]).push([[0],{178:function(t,e,n){},291:function(t,e,n){"use strict";n.r(e);var a,c=n(0),r=n(22),s=n.n(r),i=(n(178),n(4)),o=n(295),u=n(301),l=n(296),d=n(298),b=n(299),j=n(300),O=n(84),f=n(69),v=f.c,p=n(76),E=n(1),h=n(25),T=n.n(h),g=n(34);!function(t){t.SET_EVENTS="SET_EVENTS",t.SET_IS_LOADING="SET_IS_LOADING",t.SET_NEAREST_TOURNAMENT="SET_NEAREST_TOURNAMENT"}(a||(a={}));var x=n(17),_=n(18),m=n(153),S=n.n(m).a.create({baseURL:"https://xn--90aa5bhn.xn--p1ai/api/"}),N=function(){function t(){Object(x.a)(this,t)}return Object(_.a)(t,null,[{key:"getEvents",value:function(){var t=Object(g.a)(T.a.mark((function t(){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",S.get("calendar/"));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}]),t}(),y={setEvents:function(t){return{type:a.SET_EVENTS,payload:t}},setIsLoading:function(t){return{type:a.SET_IS_LOADING,payload:t}},setNearestTournament:function(t){return{type:a.SET_NEAREST_TOURNAMENT,payload:t}},fetchEvents:function(){return function(){var t=Object(g.a)(T.a.mark((function t(e){var n,a;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e(y.setIsLoading(!0)),t.next=4,N.getEvents();case 4:n=t.sent,a=n.data.events,e(y.setEvents(a)),n.data.nearest_tournament&&e(y.setNearestTournament(n.data.nearest_tournament)),e(y.setIsLoading(!1)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}},I=Object(E.a)({},y),A=n(16),k=function(){var t=v((function(t){return t.calendar})),e=t.events,n=t.isLoading,a=t.nearestTournament,r=Object(c.useState)(!1),s=Object(i.a)(r,2),E=s[0],h=s[1],T=Object(c.useState)({}),g=Object(i.a)(T,2),x=g[0],_=g[1],m=function(){var t=Object(f.b)();return Object(p.b)(I,t)}().fetchEvents;Object(c.useEffect)((function(){m()}),[]);var S=function(){h(!1)};return Object(A.jsx)(A.Fragment,{children:n?Object(A.jsx)("div",{className:"example",children:Object(A.jsx)(o.a,{})}):Object(A.jsxs)(A.Fragment,{children:[a&&Object(A.jsx)(u.a,{message:"\u0411\u043b\u0438\u0436\u0430\u0439\u0449\u0438\u0439 \u0442\u0443\u0440\u043d\u0438\u0440",description:"".concat(a.competition," \u0434\u0430\u0442\u0430: ").concat(a.date_start),type:"info"}),Object(A.jsx)(l.a,{fullscreen:!1,dateCellRender:function(t){var n=function(t){var e=t.getFullYear();console.log();var n=t.getMonth()+1<10?"0".concat(t.getMonth()+1):t.getMonth()+1,a=t.getDate()<10?"0".concat(t.getDate()):t.getDate();return"".concat(a,".").concat(n,".").concat(e)}(t.toDate());console.log(n);var a=e.filter((function(t){return t.date_start===n}));return a.length>0?Object(A.jsx)("div",{onClick:function(t){return function(t){var n=t.currentTarget.getAttribute("data-id"),a=e.find((function(t){return t.id===+n}));_(a),h(!0)}(t)},"data-id":a[0].id,className:"ant-picker-calendar-date-content-custom"}):Object(A.jsx)(A.Fragment,{})}}),Object(A.jsxs)(d.a,{title:null===x||void 0===x?void 0:x.competition,footer:null,visible:E,onOk:S,onCancel:function(){h(!1)},children:[Object(A.jsxs)(b.b,{column:1,children:[Object(A.jsx)(b.b.Item,{label:"\u0413\u043e\u0440\u043e\u0434",children:null===x||void 0===x?void 0:x.city}),(null===x||void 0===x?void 0:x.status)&&Object(A.jsx)(b.b.Item,{label:"\u0421\u0442\u0430\u0442\u0443\u0441 \u0441\u043e\u0440\u0435\u0432\u043d\u043e\u0432\u0430\u043d\u0438\u0439",children:x.status}),Object(A.jsx)(b.b.Item,{label:"\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430",children:null===x||void 0===x?void 0:x.date_start}),Object(A.jsx)(b.b.Item,{label:"\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f",children:null===x||void 0===x?void 0:x.date_finish}),(null===x||void 0===x?void 0:x.regulation)&&Object(A.jsx)(b.b.Item,{label:"\u0420\u0435\u0433\u043b\u0430\u043c\u0435\u043d\u0442",children:Object(A.jsx)("a",{target:"_blank",href:x.regulation,children:"\u0420\u0435\u0433\u043b\u0430\u043c\u0435\u043d\u0442"})})]}),Object(A.jsx)(j.a,{justify:"end",children:Object(A.jsx)(O.a,{onClick:S,type:"primary",children:"Ok"})})]})]})})},L=n(297),R=function(){return Object(A.jsx)(L.a,{children:Object(A.jsx)(L.a.Content,{children:Object(A.jsx)(k,{})})})},D=n(168),w={events:[],isLoading:!1},M={calendar:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case a.SET_EVENTS:return Object(E.a)(Object(E.a)({},t),{},{events:e.payload});case a.SET_IS_LOADING:return Object(E.a)(Object(E.a)({},t),{},{isLoading:e.payload});case a.SET_NEAREST_TOURNAMENT:return Object(E.a)(Object(E.a)({},t),{},{nearestTournament:e.payload});default:return t}}},C=n(165),U=Object(p.c)(M),F=Object(p.d)(U,Object(p.a)(C.a));s.a.render(Object(A.jsx)(f.a,{store:F,children:Object(A.jsx)(D.a,{children:Object(A.jsx)(R,{})})}),document.getElementById("root"))}},[[291,1,2]]]);
//# sourceMappingURL=main.0da394e3.chunk.js.map