(this.webpackJsonpfbspb_calendar=this.webpackJsonpfbspb_calendar||[]).push([[0],{180:function(e,t,n){},298:function(e,t,n){"use strict";n.r(t);var a,c=n(0),r=n(22),o=n.n(r),s=(n(180),n(4)),i=n(302),u=n(308),l=n(303),d=n(305),b=n(306),j=n(307),O=n(84),f=n(69),v=f.c,p=n(76),E=n(1),h=n(25),T=n.n(h),g=n(34);!function(e){e.SET_EVENTS="SET_EVENTS",e.SET_IS_LOADING="SET_IS_LOADING",e.SET_NEAREST_TOURNAMENT="SET_NEAREST_TOURNAMENT"}(a||(a={}));var x=n(17),_=n(18),m=n(154),S=n.n(m).a.create({baseURL:"https://xn--90aa5bhn.xn--p1ai/api/"}),N=function(){function e(){Object(x.a)(this,e)}return Object(_.a)(e,null,[{key:"getEvents",value:function(){var e=Object(g.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S.get("calendar/"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),y={setEvents:function(e){return{type:a.SET_EVENTS,payload:e}},setIsLoading:function(e){return{type:a.SET_IS_LOADING,payload:e}},setNearestTournament:function(e){return{type:a.SET_NEAREST_TOURNAMENT,payload:e}},fetchEvents:function(){return function(){var e=Object(g.a)(T.a.mark((function e(t){var n,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(y.setIsLoading(!0)),e.next=4,N.getEvents();case 4:n=e.sent,a=n.data.events,t(y.setEvents(a)),n.data.nearest_tournament&&t(y.setNearestTournament(n.data.nearest_tournament)),t(y.setIsLoading(!1)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()}},I=Object(E.a)({},y),A=n(163),k=n.n(A),L=n(16),R=function(){var e=v((function(e){return e.calendar})),t=e.events,n=e.isLoading,a=e.nearestTournament,r=Object(c.useState)(!1),o=Object(s.a)(r,2),E=o[0],h=o[1],T=Object(c.useState)({}),g=Object(s.a)(T,2),x=g[0],_=g[1],m=function(){var e=Object(f.b)();return Object(p.b)(I,e)}().fetchEvents;Object(c.useEffect)((function(){m()}),[]);var S=function(){h(!1)};return Object(L.jsx)(L.Fragment,{children:n?Object(L.jsx)("div",{className:"example",children:Object(L.jsx)(i.a,{})}):Object(L.jsxs)(L.Fragment,{children:[a&&Object(L.jsx)(u.a,{message:"\u0411\u043b\u0438\u0436\u0430\u0439\u0449\u0438\u0439 \u0442\u0443\u0440\u043d\u0438\u0440",description:"".concat(a.competition," \u0434\u0430\u0442\u0430: ").concat(a.date_start),type:"info"}),Object(L.jsx)(l.a,{locale:k.a,fullscreen:!1,dateCellRender:function(e){var n=function(e){var t=e.getFullYear();console.log();var n=e.getMonth()+1<10?"0".concat(e.getMonth()+1):e.getMonth()+1,a=e.getDate()<10?"0".concat(e.getDate()):e.getDate();return"".concat(a,".").concat(n,".").concat(t)}(e.toDate());console.log(n);var a=t.filter((function(e){return e.date_start===n}));return a.length>0?Object(L.jsx)("div",{onClick:function(e){return function(e){var n=e.currentTarget.getAttribute("data-id"),a=t.find((function(e){return e.id===+n}));_(a),h(!0)}(e)},"data-id":a[0].id,className:"ant-picker-calendar-date-content-custom"}):Object(L.jsx)(L.Fragment,{})}}),Object(L.jsxs)(d.a,{title:null===x||void 0===x?void 0:x.competition,footer:null,visible:E,onOk:S,onCancel:function(){h(!1)},children:[Object(L.jsxs)(b.b,{column:1,children:[Object(L.jsx)(b.b.Item,{label:"\u0413\u043e\u0440\u043e\u0434",children:null===x||void 0===x?void 0:x.city}),(null===x||void 0===x?void 0:x.status)&&Object(L.jsx)(b.b.Item,{label:"\u0421\u0442\u0430\u0442\u0443\u0441 \u0441\u043e\u0440\u0435\u0432\u043d\u043e\u0432\u0430\u043d\u0438\u0439",children:x.status}),Object(L.jsx)(b.b.Item,{label:"\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430",children:null===x||void 0===x?void 0:x.date_start}),Object(L.jsx)(b.b.Item,{label:"\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f",children:null===x||void 0===x?void 0:x.date_finish}),(null===x||void 0===x?void 0:x.regulation)&&Object(L.jsx)(b.b.Item,{label:"\u0420\u0435\u0433\u043b\u0430\u043c\u0435\u043d\u0442",children:Object(L.jsx)("a",{target:"_blank",href:x.regulation,children:"\u0420\u0435\u0433\u043b\u0430\u043c\u0435\u043d\u0442"})})]}),Object(L.jsx)(j.a,{justify:"end",children:Object(L.jsx)(O.a,{onClick:S,type:"primary",children:"Ok"})})]})]})})},D=n(304),w=n(35),M=n.n(w);n(294);M.a.locale("ru");var C=function(){return Object(L.jsx)(D.a,{children:Object(L.jsx)(D.a.Content,{children:Object(L.jsx)(R,{})})})},U=n(170),F={events:[],isLoading:!1},G={calendar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.SET_EVENTS:return Object(E.a)(Object(E.a)({},e),{},{events:t.payload});case a.SET_IS_LOADING:return Object(E.a)(Object(E.a)({},e),{},{isLoading:t.payload});case a.SET_NEAREST_TOURNAMENT:return Object(E.a)(Object(E.a)({},e),{},{nearestTournament:t.payload});default:return e}}},V=n(167),J=Object(p.c)(G),B=Object(p.d)(J,Object(p.a)(V.a));o.a.render(Object(L.jsx)(f.a,{store:B,children:Object(L.jsx)(U.a,{children:Object(L.jsx)(C,{})})}),document.getElementById("root"))}},[[298,1,2]]]);
//# sourceMappingURL=main.cb931bc0.chunk.js.map