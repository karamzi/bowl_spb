(this.webpackJsonpfbspb_calendar=this.webpackJsonpfbspb_calendar||[]).push([[0],{174:function(t,e,n){},287:function(t,e,n){"use strict";n.r(e);var a,c=n(0),r=n(22),s=n.n(r),i=(n(174),n(3)),o=n(291),u=n(292),l=n(294),d=n(295),b=n(296),j=n(79),O=n(67),f=O.c,v=n(71),h=n(1),p=n(25),g=n.n(p),x=n(32);!function(t){t.SET_EVENTS="SET_EVENTS",t.SET_IS_LOADING="SET_IS_LOADING"}(a||(a={}));var E=n(17),m=n(18),S=n(149),_=n.n(S).a.create({baseURL:"https://xn--90aa5bhn.xn--p1ai/api/"}),I=function(){function t(){Object(E.a)(this,t)}return Object(m.a)(t,null,[{key:"getEvents",value:function(){var t=Object(x.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",_.get("calendar/"));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}]),t}(),y={setEvents:function(t){return{type:a.SET_EVENTS,payload:t}},setIsLoading:function(t){return{type:a.SET_IS_LOADING,payload:t}},fetchEvents:function(){return function(){var t=Object(x.a)(g.a.mark((function t(e){var n,a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e(y.setIsLoading(!0)),t.next=4,I.getEvents();case 4:n=t.sent,a=n.data,e(y.setEvents(a)),e(y.setIsLoading(!1)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}},T=Object(h.a)({},y),N=n(15),k=function(){var t=f((function(t){return t.calendar})),e=t.events,n=t.isLoading,a=Object(c.useState)(!1),r=Object(i.a)(a,2),s=r[0],h=r[1],p=Object(c.useState)({}),g=Object(i.a)(p,2),x=g[0],E=g[1],m=function(){var t=Object(O.b)();return Object(v.b)(T,t)}().fetchEvents;Object(c.useEffect)((function(){m()}),[]);var S=function(){h(!1)};return Object(N.jsx)(N.Fragment,{children:n?Object(N.jsx)("div",{className:"example",children:Object(N.jsx)(o.a,{})}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(u.a,{dateCellRender:function(t){var n=function(t){var e=t.getFullYear(),n=t.getMonth()<10?"0".concat(t.getMonth()+1):t.getMonth()+1,a=t.getDate()<10?"0".concat(t.getDate()):t.getDate();return"".concat(a,".").concat(n,".").concat(e)}(t.toDate()),a=e.filter((function(t){return t.date_start===n}));return Object(N.jsx)("div",{children:a.map((function(t){return Object(N.jsx)("li",{onClick:function(t){return function(t){var n=t.currentTarget.getAttribute("data-id");console.log(e);var a=e.find((function(t){return t.id===+n}));E(a),console.log(a),h(!0)}(t)},"data-id":t.id,children:Object(N.jsxs)("span",{className:"ant-badge ant-badge-status ant-badge-not-a-wrapper",children:[Object(N.jsx)("span",{className:"ant-badge-status-dot ant-badge-status-success"}),Object(N.jsx)("span",{className:"ant-badge-status-text",children:t.competition})]})},t.id)}))})}}),Object(N.jsxs)(l.a,{title:null===x||void 0===x?void 0:x.competition,footer:null,visible:s,onOk:S,onCancel:function(){h(!1)},children:[Object(N.jsxs)(d.b,{column:1,children:[Object(N.jsx)(d.b.Item,{label:"\u0413\u043e\u0440\u043e\u0434",children:null===x||void 0===x?void 0:x.city}),(null===x||void 0===x?void 0:x.status)&&Object(N.jsx)(d.b.Item,{label:"\u0421\u0442\u0430\u0442\u0443\u0441 \u0441\u043e\u0440\u0435\u0432\u043d\u043e\u0432\u0430\u043d\u0438\u0439",children:x.status}),Object(N.jsx)(d.b.Item,{label:"\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430",children:null===x||void 0===x?void 0:x.date_start}),Object(N.jsx)(d.b.Item,{label:"\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f",children:null===x||void 0===x?void 0:x.date_finish}),(null===x||void 0===x?void 0:x.regulation)&&Object(N.jsx)(d.b.Item,{label:"\u0420\u0435\u0433\u043b\u0430\u043c\u0435\u043d\u0442",children:Object(N.jsx)("a",{target:"_blank",href:x.regulation,children:"\u0420\u0435\u0433\u043b\u0430\u043c\u0435\u043d\u0442"})})]}),Object(N.jsx)(b.a,{justify:"end",children:Object(N.jsx)(j.a,{onClick:S,type:"primary",children:"Ok"})})]})]})})},L=n(293),w=function(){return Object(N.jsx)(L.a,{children:Object(N.jsx)(L.a.Content,{children:Object(N.jsx)(k,{})})})},D=n(164),A={events:[],isLoading:!1},C={calendar:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case a.SET_EVENTS:return Object(h.a)(Object(h.a)({},t),{},{events:e.payload});case a.SET_IS_LOADING:return Object(h.a)(Object(h.a)({},t),{},{isLoading:e.payload});default:return t}}},G=n(161),V=Object(v.c)(C),F=Object(v.d)(V,Object(v.a)(G.a));s.a.render(Object(N.jsx)(O.a,{store:F,children:Object(N.jsx)(D.a,{children:Object(N.jsx)(w,{})})}),document.getElementById("root"))}},[[287,1,2]]]);
//# sourceMappingURL=main.aa475b1e.chunk.js.map